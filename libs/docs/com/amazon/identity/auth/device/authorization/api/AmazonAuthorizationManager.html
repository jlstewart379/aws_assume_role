<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_38) on Tue May 28 14:32:15 PDT 2013 -->
<TITLE>
AmazonAuthorizationManager
</TITLE>

<META NAME="date" CONTENT="2013-05-28">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AmazonAuthorizationManager";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AmazonAuthorizationManager.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../../../../com/amazon/identity/auth/device/authorization/api/AuthorizationListener.html" title="interface in com.amazon.identity.auth.device.authorization.api"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../../index.html?com/amazon/identity/auth/device/authorization/api/AmazonAuthorizationManager.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AmazonAuthorizationManager.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.amazon.identity.auth.device.authorization.api</FONT>
<BR>
Class AmazonAuthorizationManager</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../../../resources/inherit.gif" ALT="extended by "><B>com.amazon.identity.auth.device.authorization.api.AmazonAuthorizationManager</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>AmazonAuthorizationManager</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
This class is used by Login with Amazon clients to authorize users and retrieve tokens and profile data.
 <p>
 All methods with the <CODE>Future</CODE><<CODE>android.os.Bundle</CODE>> and/or the <A HREF="../../../../../../../com/amazon/identity/auth/device/authorization/api/AuthorizationListener.html" title="interface in com.amazon.identity.auth.device.authorization.api"><CODE>AuthorizationListener</CODE></A>/<A HREF="../../../../../../../com/amazon/identity/auth/device/shared/APIListener.html" title="interface in com.amazon.identity.auth.device.shared"><CODE>APIListener</CODE></A> will return
 the results on a non-UI thread.
 <p>
 <A HREF="../../../../../../../com/amazon/identity/auth/device/authorization/api/AuthorizationListener.html" title="interface in com.amazon.identity.auth.device.authorization.api"><CODE>AuthorizationListener</CODE></A>:<br>
 The AuthorizationListener interface is used by the <CODE>#authorize(String[], AuthorizationListener)</CODE> method to return results asynchronously.
 AmazonAuthorizationManager calls <A HREF="../../../../../../../com/amazon/identity/auth/device/authorization/api/AuthorizationListener.html" title="interface in com.amazon.identity.auth.device.authorization.api"><CODE>AuthorizationListener</CODE></A> methods on a new (worker) thread created by the SDK. These methods include:
 <ul>
     <li><A HREF="../../../../../../../com/amazon/identity/auth/device/shared/APIListener.html#onSuccess(Bundle)"><CODE>APIListener.onSuccess(Bundle)</CODE></A></li>
     <li><A HREF="../../../../../../../com/amazon/identity/auth/device/shared/APIListener.html#onError(com.amazon.identity.auth.device.AuthError)"><CODE>APIListener.onError(AuthError)</CODE></A></li>
     <li><A HREF="../../../../../../../com/amazon/identity/auth/device/authorization/api/AuthorizationListener.html#onCancel(Bundle)"><CODE>AuthorizationListener.onCancel(Bundle)</CODE></A></li>
 </ul>
 <p>
 <A HREF="../../../../../../../com/amazon/identity/auth/device/shared/APIListener.html" title="interface in com.amazon.identity.auth.device.shared"><CODE>APIListener</CODE></A>:<br>
 The APIListener interface is used by the <A HREF="../../../../../../../com/amazon/identity/auth/device/authorization/api/AmazonAuthorizationManager.html#getToken(java.lang.String[], com.amazon.identity.auth.device.shared.APIListener)"><CODE>getToken(String[], APIListener)</CODE></A> and <A HREF="../../../../../../../com/amazon/identity/auth/device/authorization/api/AmazonAuthorizationManager.html#getProfile(com.amazon.identity.auth.device.shared.APIListener)"><CODE>getProfile(APIListener)</CODE></A>
 methods to return results in the same manner as AuthorizationListener. APIListener does not include the onCancel method.
 <p>
 <CODE>Future</CODE><<CODE>android.os.Bundle</CODE>>: <br>
 Some methods return a Future object. Using the Future allows the developer to use the method synchronously.
 Calling <CODE>Future.get()</CODE> will cause the flow to block until results are returned via a Bundle.
 Calling <code>Future.get()</code> on a non-UI thread is recommended in order to eliminate the likely risk
 of a ANR. The Bundle returned in the <code>Future.get()</code> call will have one additional parameter to
 help a developer determine what type of response it is (Success,Error,Cancel).
 The key for the value is <A HREF="../../../../../../../com/amazon/identity/auth/device/authorization/api/AuthzConstants.BUNDLE_KEY.html#FUTURE"><CODE>AuthzConstants.BUNDLE_KEY.FUTURE</CODE></A>. This will return an enum of type <A HREF="../../../../../../../com/amazon/identity/auth/device/authorization/api/AuthzConstants.FUTURE_TYPE.html" title="enum in com.amazon.identity.auth.device.authorization.api"><CODE>AuthzConstants.FUTURE_TYPE</CODE></A>.
 After determining the success or failure of the method, you can extract the data from the Bundle as if it was passed to
 <A HREF="../../../../../../../com/amazon/identity/auth/device/shared/APIListener.html#onSuccess(Bundle)"><CODE>APIListener.onSuccess(Bundle)</CODE></A> or <A HREF="../../../../../../../com/amazon/identity/auth/device/authorization/api/AuthorizationListener.html#onCancel(Bundle)"><CODE>AuthorizationListener.onCancel(Bundle)</CODE></A>. If the method returned an error,
 you can extract the error using <CODE>android.os.Bundle</CODE>.getParcelable(String)} using the
 <A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.html#AUTH_ERROR_EXECEPTION"><CODE>AuthError.AUTH_ERROR_EXECEPTION</CODE></A>. key.
 <p>
 <b>APIKey</b>: <br>
 The "APIKey" is a token meant to encode claims about a native application(e.g. Android, iOS) that can be used to verify the identity of
 the application without requiring a remote service call. In addition to the app identity, these tokens can carry other claims about the
 application as required. For example, a list of permissions granted to the application. The contents of the tokens are encoded and then
 digitally signed. The APIKey must be available for the SDK to obtain from the calling application.
 <ul>
   <li>It can be in the manifest for the application as a meta-data tag with the key "AmazonAPIKey" example: &lt;meta-data android:name="AmazonAPIKey" android:value="@string/my_aki_key" /&gt;</li>
   <li>It can also be placed in a file in the application's asset folder.  The files name must be: "api_key.txt"</li>
 </ul>
 <p>
 <A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.html" title="class in com.amazon.identity.auth.device"><CODE>AuthError</CODE></A>:<br>
   Error Object to help SDK developers determine what actions to take.<br>
   Each AuthEror has a category(<A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_CATEGORY.html" title="enum in com.amazon.identity.auth.device"><CODE>AuthError.ERROR_CATEGORY</CODE></A>) and type(<A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_TYPE.html" title="enum in com.amazon.identity.auth.device"><CODE>AuthError.ERROR_TYPE</CODE></A>)<br>
   <ul>
      <li>
          <A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_CATEGORY.html#ACTION"><CODE>AuthError.ERROR_CATEGORY.ACTION</CODE></A> - Some action is required by the calling application in order to address this issue
           Consult the method documentation for specific error types (<A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_TYPE.html" title="enum in com.amazon.identity.auth.device"><CODE>AuthError.ERROR_TYPE</CODE></A>) and what actions are required.
      </li>
      <li>
          <A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_CATEGORY.html#NETWORK"><CODE>AuthError.ERROR_CATEGORY.NETWORK</CODE></A> - Depending on the error type and the cause, you may want to retry the operation or alert the user.
      </li>
      <li>
          <A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_CATEGORY.html#INTERNAL"><CODE>AuthError.ERROR_CATEGORY.INTERNAL</CODE></A> - Please report errors in these categories to our SDK support team and provide logs. The type and cause may provide additional information in diagnosing the error.
        </li>
      <li>
          <A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_CATEGORY.html#UNKNOWN"><CODE>AuthError.ERROR_CATEGORY.UNKNOWN</CODE></A> - Please report errors in these categories to our SDK support team and provide logs. The type and cause may provide additional information in diagnosing the error.
        </li>
      <li>
          <A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_CATEGORY.html#BAD_REQUEST"><CODE>AuthError.ERROR_CATEGORY.BAD_REQUEST</CODE></A> - This is not currently used by this SDK.
      </li>
   </ul>
 <p>
<P>

<P>
<DL>
<DT><B>Version:</B></DT>
  <DD>1.0</DD>
<DT><B>See Also:</B><DD><a href="http://developer.android.com/training/articles/perf-anr.html">Android ANR Info</a></DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../../../com/amazon/identity/auth/device/authorization/api/AmazonAuthorizationManager.html#AmazonAuthorizationManager(Context, Bundle)">AmazonAuthorizationManager</A></B>(Context&nbsp;context,
                           Bundle&nbsp;options)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructor</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.concurrent.Future&lt;Bundle&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../com/amazon/identity/auth/device/authorization/api/AmazonAuthorizationManager.html#authorize(java.lang.String[], Bundle, com.amazon.identity.auth.device.authorization.api.AuthorizationListener)">authorize</A></B>(java.lang.String[]&nbsp;scopes,
          Bundle&nbsp;options,
          <A HREF="../../../../../../../com/amazon/identity/auth/device/authorization/api/AuthorizationListener.html" title="interface in com.amazon.identity.auth.device.authorization.api">AuthorizationListener</A>&nbsp;listener)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method handles requesting authorization (using OAuth 2.0) for a client for a specified scope.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.concurrent.Future&lt;Bundle&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../com/amazon/identity/auth/device/authorization/api/AmazonAuthorizationManager.html#clearAuthorizationState(com.amazon.identity.auth.device.shared.APIListener)">clearAuthorizationState</A></B>(<A HREF="../../../../../../../com/amazon/identity/auth/device/shared/APIListener.html" title="interface in com.amazon.identity.auth.device.shared">APIListener</A>&nbsp;listener)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method removes any local authorization for the current user from this application.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../com/amazon/identity/auth/device/authorization/api/AmazonAuthorizationManager.html#getAppId()">getAppId</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method returns the application Id.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../com/amazon/identity/auth/device/authorization/api/AmazonAuthorizationManager.html#getAppVariantId()">getAppVariantId</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method returns the application variant Id.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.concurrent.Future&lt;Bundle&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../com/amazon/identity/auth/device/authorization/api/AmazonAuthorizationManager.html#getProfile(com.amazon.identity.auth.device.shared.APIListener)">getProfile</A></B>(<A HREF="../../../../../../../com/amazon/identity/auth/device/shared/APIListener.html" title="interface in com.amazon.identity.auth.device.shared">APIListener</A>&nbsp;listener)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method requests basic profile information for a user (using OAuth 2.0) for the scopes requested in the last call to <CODE>#authorize(String[], AuthorizationListener)</CODE>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.concurrent.Future&lt;Bundle&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../com/amazon/identity/auth/device/authorization/api/AmazonAuthorizationManager.html#getToken(java.lang.String[], com.amazon.identity.auth.device.shared.APIListener)">getToken</A></B>(java.lang.String[]&nbsp;scopes,
         <A HREF="../../../../../../../com/amazon/identity/auth/device/shared/APIListener.html" title="interface in com.amazon.identity.auth.device.shared">APIListener</A>&nbsp;listener)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method handles requesting an authorization token (using OAuth 2.0) for the specified scopes for the given package.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="AmazonAuthorizationManager(Context, Bundle)"><!-- --></A><H3>
AmazonAuthorizationManager</H3>
<PRE>
public <B>AmazonAuthorizationManager</B>(Context&nbsp;context,
                                  Bundle&nbsp;options)</PRE>
<DL>
<DD>Constructor
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>context</CODE> - - The context of the calling application<DD><CODE>bundle</CODE> - - Can be null. Currently unused
<DT><B>Throws:</B>
<DD><CODE><code>IllegalArgumentException</code></CODE> - if context or clientId is null OR if the ApiKey is invalid or missing</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="authorize(java.lang.String[], Bundle, com.amazon.identity.auth.device.authorization.api.AuthorizationListener)"><!-- --></A><H3>
authorize</H3>
<PRE>
public java.util.concurrent.Future&lt;Bundle&gt; <B>authorize</B>(java.lang.String[]&nbsp;scopes,
                                                     Bundle&nbsp;options,
                                                     <A HREF="../../../../../../../com/amazon/identity/auth/device/authorization/api/AuthorizationListener.html" title="interface in com.amazon.identity.auth.device.authorization.api">AuthorizationListener</A>&nbsp;listener)</PRE>
<DL>
<DD>This method handles requesting authorization (using OAuth 2.0) for a client for a specified scope. This results in a token that is used to access
 Amazon services/resources. By default, authorize uses a <CODE>android.webkit.WebView</CODE> to present a page that prompts the user to login and authorize
 the application.
 <p>
 If the APIKey is incorrect, <A HREF="../../../../../../../com/amazon/identity/auth/device/shared/APIListener.html#onError(com.amazon.identity.auth.device.AuthError)"><CODE>APIListener.onError(AuthError)</CODE></A> will be called with a <A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_TYPE.html#ERROR_ACCESS_DENIED"><CODE>AuthError.ERROR_TYPE.ERROR_ACCESS_DENIED</CODE></A></code>
 <p>
 <A HREF="../../../../../../../com/amazon/identity/auth/device/shared/APIListener.html#onError(com.amazon.identity.auth.device.AuthError)"><CODE>APIListener.onError(AuthError)</CODE></A> will be called for the following OAuth-related errors::
 <ul>
 <li><A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_TYPE.html#ERROR_INVALID_GRANT"><CODE>AuthError.ERROR_TYPE.ERROR_INVALID_GRANT</CODE></A></li>
 <li><A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_TYPE.html#ERROR_INVALID_CLIENT"><CODE>AuthError.ERROR_TYPE.ERROR_INVALID_CLIENT</CODE></A></li>
 <li><A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_TYPE.html#ERROR_INVALID_SCOPE"><CODE>AuthError.ERROR_TYPE.ERROR_INVALID_SCOPE</CODE></A></li>
 <li><A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_TYPE.html#ERROR_UNAUTHORIZED_CLIENT"><CODE>AuthError.ERROR_TYPE.ERROR_UNAUTHORIZED_CLIENT</CODE></A></li>
 </ul>
 Any other possible OAuth-related errors will be encapsulated in a <A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_TYPE.html#ERROR_SERVER_REPSONSE"><CODE>AuthError.ERROR_TYPE.ERROR_SERVER_REPSONSE</CODE></A></li>
 <p>
  <A HREF="../../../../../../../com/amazon/identity/auth/device/authorization/api/AuthorizationListener.html#onCancel(Bundle)"><CODE>AuthorizationListener.onCancel(Bundle)</CODE></A> - only detects if the user clicks on "cancel" button during the authorization.  Dismissal of the browser before authorization is complete will not be detected.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>scopes</CODE> - An array of scopes representing the permissions requested by this application. Login with Amazon currently supports "profile" and "postal_code".
        You must request "profile" at the same time you request "postal_code".<DD><CODE>options</CODE> - Can be null - used for optional settings via <CODE>android.os.Bundle</CODE><DD><CODE>listener</CODE> - <A HREF="../../../../../../../com/amazon/identity/auth/device/authorization/api/AuthorizationListener.html" title="interface in com.amazon.identity.auth.device.authorization.api"><CODE>AuthorizationListener</CODE></A> interface that is invoked with a response from the method. Can be null if the Future is used.
<DT><B>Returns:</B><DD>Returns Future<Bundle>. See Class level javadocs for more info
<DT><B>Throws:</B>
<DD><CODE><code>IllegalArgumentException</code></CODE> - if the scopes are null or empty.<DT><B>Since:</B></DT>
  <DD>1.0</DD>
<DT><B>See Also:</B><DD><a href="http://developer.android.com/reference/android/webkit/WebView.html">android.webkit.WebView</a></DL>
</DD>
</DL>
<HR>

<A NAME="getToken(java.lang.String[], com.amazon.identity.auth.device.shared.APIListener)"><!-- --></A><H3>
getToken</H3>
<PRE>
public java.util.concurrent.Future&lt;Bundle&gt; <B>getToken</B>(java.lang.String[]&nbsp;scopes,
                                                    <A HREF="../../../../../../../com/amazon/identity/auth/device/shared/APIListener.html" title="interface in com.amazon.identity.auth.device.shared">APIListener</A>&nbsp;listener)</PRE>
<DL>
<DD>This method handles requesting an authorization token (using OAuth 2.0) for the specified scopes for the given package.
 <p>
 The <CODE>#authorize(String[], AuthorizationListener)</CODE> method must have been called successfully with the same scopes,
 and the user must have granted consent to those scopes once, prior to this call, in order to get a token.
 If the app has restarted since the last authorize call, getToken may still succeed using the cached credentials.
 <p>
 If the APIKey is incorrect, <A HREF="../../../../../../../com/amazon/identity/auth/device/shared/APIListener.html#onError(com.amazon.identity.auth.device.AuthError)"><CODE>APIListener.onError(AuthError)</CODE></A> will be called with a <A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_TYPE.html#ERROR_ACCESS_DENIED"><CODE>AuthError.ERROR_TYPE.ERROR_ACCESS_DENIED</CODE></A>
 <p>
 <code>APIListener.onError</code> will be called for the following OAuth-related errors:
 <ul>
 <li><A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_TYPE.html#ERROR_INVALID_TOKEN"><CODE>AuthError.ERROR_TYPE.ERROR_INVALID_TOKEN</CODE></A></li>
 <li><A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_TYPE.html#ERROR_INVALID_GRANT"><CODE>AuthError.ERROR_TYPE.ERROR_INVALID_GRANT</CODE></A></li>
 <li><A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_TYPE.html#ERROR_INVALID_CLIENT"><CODE>AuthError.ERROR_TYPE.ERROR_INVALID_CLIENT</CODE></A></li>
 <li><A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_TYPE.html#ERROR_INVALID_SCOPE"><CODE>AuthError.ERROR_TYPE.ERROR_INVALID_SCOPE</CODE></A></li>
 <li><A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_TYPE.html#ERROR_UNAUTHORIZED_CLIENT"><CODE>AuthError.ERROR_TYPE.ERROR_UNAUTHORIZED_CLIENT</CODE></A></li>
 </ul>
 Any other possible OAuth-related errors will be encapsulated in a <A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_TYPE.html#ERROR_SERVER_REPSONSE"><CODE>AuthError.ERROR_TYPE.ERROR_SERVER_REPSONSE</CODE></A></li>
 <p>
 
 <p>
 onSuccess Bundle Keys:<br>
      key = <A HREF="../../../../../../../com/amazon/identity/auth/device/authorization/api/AuthzConstants.BUNDLE_KEY.html#TOKEN"><CODE>AuthzConstants.BUNDLE_KEY.TOKEN</CODE></A>.val,<br>
      variable type = String<br>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>scopes</CODE> - An array of scopes representing the permissions requested by this application. Login with Amazon currently supports "profile" and "postal_code".<DD><CODE>listener</CODE> - <A HREF="../../../../../../../com/amazon/identity/auth/device/shared/APIListener.html" title="interface in com.amazon.identity.auth.device.shared"><CODE>APIListener</CODE></A> interface that is invoked with a response from the method.   Can be null if the Future is used.
<DT><B>Returns:</B><DD><code>Future</code> See Class level javadocs for more info.
<DT><B>Throws:</B>
<DD><CODE><code>IllegalArgumentException</code></CODE> - if the scopes are null or empty<DT><B>Since:</B></DT>
  <DD>1.0</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="getAppId()"><!-- --></A><H3>
getAppId</H3>
<PRE>
public java.lang.String <B>getAppId</B>()
                          throws <A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.html" title="class in com.amazon.identity.auth.device">AuthError</A></PRE>
<DL>
<DD>This method returns the application Id. This is the id that was used to register the application and that will be bundled along with the binary.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>String - The "application ID" representing the application family this application belongs to. This is the appId used for all authorization flows
 by the SDK. Returns null if the SDK could not get the appId.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.html" title="class in com.amazon.identity.auth.device">AuthError</A></CODE> - In case of failure (<A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_TYPE.html#ERROR_ACCESS_DENIED"><CODE>AuthError.ERROR_TYPE.ERROR_ACCESS_DENIED</CODE></A>)<DT><B>Since:</B></DT>
  <DD>1.0</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="getAppVariantId()"><!-- --></A><H3>
getAppVariantId</H3>
<PRE>
public java.lang.String <B>getAppVariantId</B>()
                                 throws <A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.html" title="class in com.amazon.identity.auth.device">AuthError</A></PRE>
<DL>
<DD>This method returns the application variant Id. This is the variant id that was used to register the application and that will be bundled along with the binary.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>String - The "application variant ID" representing the application specifically.
 by the SDK. Returns null if the SDK could not get the appId.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.html" title="class in com.amazon.identity.auth.device">AuthError</A></CODE> - In case of failure (<A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_TYPE.html#ERROR_ACCESS_DENIED"><CODE>AuthError.ERROR_TYPE.ERROR_ACCESS_DENIED</CODE></A>)<DT><B>Since:</B></DT>
  <DD>1.0</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="clearAuthorizationState(com.amazon.identity.auth.device.shared.APIListener)"><!-- --></A><H3>
clearAuthorizationState</H3>
<PRE>
public java.util.concurrent.Future&lt;Bundle&gt; <B>clearAuthorizationState</B>(<A HREF="../../../../../../../com/amazon/identity/auth/device/shared/APIListener.html" title="interface in com.amazon.identity.auth.device.shared">APIListener</A>&nbsp;listener)</PRE>
<DL>
<DD>This method removes any local authorization for the current user from this application. Your application must call <CODE>#authorize(String[], AuthorizationListener)</CODE>
 again to be able to get tokens or profile data.
 <p>
 If the APIKey is incorrect, <A HREF="../../../../../../../com/amazon/identity/auth/device/shared/APIListener.html#onError(com.amazon.identity.auth.device.AuthError)"><CODE>APIListener.onError(AuthError)</CODE></A> will be called with a <A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_TYPE.html#ERROR_ACCESS_DENIED"><CODE>AuthError.ERROR_TYPE.ERROR_ACCESS_DENIED</CODE></A>
 <p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>listener</CODE> - <A HREF="../../../../../../../com/amazon/identity/auth/device/shared/APIListener.html" title="interface in com.amazon.identity.auth.device.shared"><CODE>APIListener</CODE></A> interface that is invoked with a response from the method.   Can be null if the Future is used.
<DT><B>Returns:</B><DD><code>Future</code> See Class level javadocs for more info.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.html" title="class in com.amazon.identity.auth.device">AuthError</A></CODE> - <A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_TYPE.html#ERROR_THREAD"><CODE>AuthError.ERROR_TYPE.ERROR_THREAD</CODE></A> if the thread is interrupted
                   or <A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_TYPE.html#ERROR_ACCESS_DENIED"><CODE>AuthError.ERROR_TYPE.ERROR_ACCESS_DENIED</CODE></A><DT><B>Since:</B></DT>
  <DD>1.0</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="getProfile(com.amazon.identity.auth.device.shared.APIListener)"><!-- --></A><H3>
getProfile</H3>
<PRE>
public java.util.concurrent.Future&lt;Bundle&gt; <B>getProfile</B>(<A HREF="../../../../../../../com/amazon/identity/auth/device/shared/APIListener.html" title="interface in com.amazon.identity.auth.device.shared">APIListener</A>&nbsp;listener)</PRE>
<DL>
<DD>This method requests basic profile information for a user (using OAuth 2.0) for the scopes requested in the last call to <CODE>#authorize(String[], AuthorizationListener)</CODE>.
 <p>
 The <CODE>#authorize(String[], AuthorizationListener)</CODE> method must have been called once prior to this call so that a user can authorize the app. If the app has restarted
 since the last authorize call, getProfile may still succeed using the cached credentials.
 <p>
 If the APIKey is incorrect, AuthorizationListener.onError will be called with a <A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_TYPE.html#ERROR_ACCESS_DENIED"><CODE>AuthError.ERROR_TYPE.ERROR_ACCESS_DENIED</CODE></A>
 <p>
 <code>APIListener.onError</code> will be called for the following OAuth-related errors:
 <ul>
 <li><A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_TYPE.html#ERROR_INVALID_TOKEN"><CODE>AuthError.ERROR_TYPE.ERROR_INVALID_TOKEN</CODE></A></li>
 <li><A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_TYPE.html#ERROR_INVALID_GRANT"><CODE>AuthError.ERROR_TYPE.ERROR_INVALID_GRANT</CODE></A></li>
 <li><A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_TYPE.html#ERROR_INVALID_CLIENT"><CODE>AuthError.ERROR_TYPE.ERROR_INVALID_CLIENT</CODE></A></li>
 <li><A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_TYPE.html#ERROR_INVALID_SCOPE"><CODE>AuthError.ERROR_TYPE.ERROR_INVALID_SCOPE</CODE></A></li>
 <li><A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_TYPE.html#ERROR_UNAUTHORIZED_CLIENT"><CODE>AuthError.ERROR_TYPE.ERROR_UNAUTHORIZED_CLIENT</CODE></A></li>
 </ul>
 Any other possible OAuth-related errors will be encapsulated in a <A HREF="../../../../../../../com/amazon/identity/auth/device/AuthError.ERROR_TYPE.html#ERROR_SERVER_REPSONSE"><CODE>AuthError.ERROR_TYPE.ERROR_SERVER_REPSONSE</CODE></A>
 <p>
 If the method completes successfully, it calls <A HREF="../../../../../../../com/amazon/identity/auth/device/shared/APIListener.html#onSuccess(Bundle)"><CODE>APIListener.onSuccess(Bundle)</CODE></A> with the profile embedded as a Bundle inside the result Bundle.
 Use <A HREF="../../../../../../../com/amazon/identity/auth/device/authorization/api/AuthzConstants.BUNDLE_KEY.html#PROFILE"><CODE>AuthzConstants.BUNDLE_KEY.PROFILE</CODE></A>.val to retrieve it.<br>
 The PROFILE bundle contains the following strings:
      <ul>
          <li>Name: key = <A HREF="../../../../../../../com/amazon/identity/auth/device/authorization/api/AuthzConstants.PROFILE_KEY.html#NAME"><CODE>AuthzConstants.PROFILE_KEY.NAME</CODE></A>.val, type = <code>String</code></li>
          <li>Email: key = <A HREF="../../../../../../../com/amazon/identity/auth/device/authorization/api/AuthzConstants.PROFILE_KEY.html#EMAIL"><CODE>AuthzConstants.PROFILE_KEY.EMAIL</CODE></A>.val, type = <code>String</code></li>
          <li>User Id: key = <A HREF="../../../../../../../com/amazon/identity/auth/device/authorization/api/AuthzConstants.PROFILE_KEY.html#USER_ID"><CODE>AuthzConstants.PROFILE_KEY.USER_ID</CODE></A>.val, type = <code>String</code></li>
          <li>Postal Code: key = <A HREF="../../../../../../../com/amazon/identity/auth/device/authorization/api/AuthzConstants.PROFILE_KEY.html#POSTAL_CODE"><CODE>AuthzConstants.PROFILE_KEY.POSTAL_CODE</CODE></A>.val, type = <code>String</code></li>
      </ul>
 
 The first three values are provided if the "profile" scope is requested, the last value is only provided if the "postal_code" scope is also requested.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>listener</CODE> - <A HREF="../../../../../../../com/amazon/identity/auth/device/authorization/api/AuthorizationListener.html" title="interface in com.amazon.identity.auth.device.authorization.api"><CODE>AuthorizationListener</CODE></A> interface that is invoked with a response from the API.<br>
<DT><B>Returns:</B><DD><code>Future</code> for blocking calls. See Class level javadocs for more info.
<DT><B>Throws:</B>
<DD><CODE><code>IllegalArgumentException</code></CODE> - if the scopes are null or empty<DT><B>Since:</B></DT>
  <DD>1.0</DD>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AmazonAuthorizationManager.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
 Copyright 2013 Amazon.com. All rights reserved.</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../../../../com/amazon/identity/auth/device/authorization/api/AuthorizationListener.html" title="interface in com.amazon.identity.auth.device.authorization.api"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../../index.html?com/amazon/identity/auth/device/authorization/api/AmazonAuthorizationManager.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AmazonAuthorizationManager.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
